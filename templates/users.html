{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h3>Users</h3> <a class="btn btn-primary" href="{{ url_for('users_add') }}">Add User</a>
</div>
<table class="table table-striped table-bordered table-sm">
    <thead class="table-light">
        <tr>
            <th>ID</th>
            <th>Username</th>
            <th>Role</th>
            <th>Created</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody> {% for u in users %} <tr>
            <td>{{ u.id }}</td>
            <td>{{ u.username }}</td>
            <td>{{ u.role }}</td>
            <td>{{ u.created_at }}</td>
            <td> <a class="btn btn-sm btn-outline-primary" href="{{ url_for('users_edit', user_id=u.id) }}">Edit</a> {%
                if current_user.id != u.id %} <form method="post" action="{{ url_for('users_delete', user_id=u.id) }}"
                    class="d-inline" onsubmit="return confirm('Delete user {{ u.username }}?');"> <button
                        class="btn btn-sm btn-outline-danger">Delete</button> </form> {% endif %} </td>
        </tr> {% endfor %} </tbody>
</table> {% endblock %}